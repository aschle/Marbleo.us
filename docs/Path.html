<!DOCTYPE html>  <html> <head>   <title>Path.coffee</title>   <meta http-equiv="content-type" content="text/html; charset=UTF-8">   <link rel="stylesheet" media="all" href="docco.css" /> </head> <body>   <div id="container">     <div id="background"></div>            <div id="jump_to">         Jump To &hellip;         <div id="jump_wrapper">           <div id="jump_page">                                           <a class="source" href="Animator.html">                 Animator.coffee               </a>                                           <a class="source" href="Block.html">                 Block.coffee               </a>                                           <a class="source" href="Compressor.html">                 Compressor.coffee               </a>                                           <a class="source" href="Constants.html">                 Constants.coffee               </a>                                           <a class="source" href="EventEmitter.html">                 EventEmitter.coffee               </a>                                           <a class="source" href="Game.html">                 Game.coffee               </a>                                           <a class="source" href="HitTestLayer.html">                 HitTestLayer.coffee               </a>                                           <a class="source" href="Layer.html">                 Layer.coffee               </a>                                           <a class="source" href="Main.html">                 Main.coffee               </a>                                           <a class="source" href="Map.html">                 Map.coffee               </a>                                           <a class="source" href="MapLayer.html">                 MapLayer.coffee               </a>                                           <a class="source" href="Marble.html">                 Marble.coffee               </a>                                           <a class="source" href="Palette.html">                 Palette.coffee               </a>                                           <a class="source" href="Path.html">                 Path.coffee               </a>                                           <a class="source" href="Renderer.html">                 Renderer.coffee               </a>                                           <a class="source" href="TextureStore.html">                 TextureStore.coffee               </a>                                           <a class="source" href="VisibilityLayer.html">                 VisibilityLayer.coffee               </a>                        </div>         </div>       </div>          <table cellpadding="0" cellspacing="0">       <thead>         <tr>           <th class="docs">             <h1>               Path.coffee             </h1>           </th>           <th class="code">           </th>         </tr>       </thead>       <tbody>                               <tr id="section-1">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-1">&#182;</a>               </div>               <p>Models the path a marble can take a directed graph
where each nodeâ€™s maximum degree is two.</p>             </td>             <td class="code">               <div class="highlight"><pre><span class="k">class</span> <span class="nx">Path</span>
  <span class="vi">@nodesForBlock: </span><span class="nf">(block) -&gt;</span>
    <span class="p">[</span><span class="nx">bX</span><span class="p">,</span> <span class="nx">bY</span><span class="p">,</span> <span class="nx">bZ</span><span class="p">]</span>           <span class="o">=</span> <span class="nx">block</span><span class="p">.</span><span class="nx">getCoordinates</span><span class="p">()</span>
    <span class="p">[</span><span class="nx">topType</span><span class="p">,</span> <span class="nx">topRotation</span><span class="p">]</span> <span class="o">=</span> <span class="nx">block</span><span class="p">.</span><span class="nx">getProperty</span> <span class="s1">&#39;top&#39;</span>
    <span class="p">[</span><span class="nx">midType</span><span class="p">,</span> <span class="nx">midRotation</span><span class="p">]</span> <span class="o">=</span> <span class="nx">block</span><span class="p">.</span><span class="nx">getProperty</span> <span class="s1">&#39;middle&#39;</span>

    <span class="nv">rotateNodeCoordinates = </span><span class="nf">(rotation, x, y, z) -&gt;</span>
      <span class="k">switch</span> <span class="nx">rotation</span>
        <span class="k">when</span>  <span class="mi">90</span> <span class="k">then</span> <span class="k">return</span> <span class="p">[</span>                     <span class="nx">y</span><span class="p">,</span> <span class="nx">Settings</span><span class="p">.</span><span class="nx">blockSize</span> <span class="o">-</span> <span class="nx">x</span><span class="p">,</span> <span class="nx">z</span><span class="p">]</span>
        <span class="k">when</span> <span class="mi">180</span> <span class="k">then</span> <span class="k">return</span> <span class="p">[</span><span class="nx">Settings</span><span class="p">.</span><span class="nx">blockSize</span> <span class="o">-</span> <span class="nx">x</span><span class="p">,</span> <span class="nx">Settings</span><span class="p">.</span><span class="nx">blockSize</span> <span class="o">-</span> <span class="nx">y</span><span class="p">,</span> <span class="nx">z</span><span class="p">]</span>
        <span class="k">when</span> <span class="mi">270</span> <span class="k">then</span> <span class="k">return</span> <span class="p">[</span><span class="nx">Settings</span><span class="p">.</span><span class="nx">blockSize</span> <span class="o">-</span> <span class="nx">y</span><span class="p">,</span>                      <span class="nx">x</span><span class="p">,</span> <span class="nx">z</span><span class="p">]</span>
        <span class="k">else</span>
          <span class="k">return</span> <span class="p">[</span><span class="nx">x</span><span class="p">,</span> <span class="nx">y</span><span class="p">,</span> <span class="nx">z</span><span class="p">]</span></pre></div>             </td>           </tr>                               <tr id="section-2">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-2">&#182;</a>               </div>               <p>Create path nodes from the description</p>             </td>             <td class="code">               <div class="highlight"><pre>    <span class="nv">nodesForDescription = </span><span class="nf">(description, rotation) -&gt;</span>
      <span class="nv">currentNodes = </span><span class="p">{}</span>
      <span class="k">for</span> <span class="nx">nodeID</span><span class="p">,</span> <span class="p">[</span><span class="nx">x</span><span class="p">,</span> <span class="nx">y</span><span class="p">,</span> <span class="nx">z</span><span class="p">,</span> <span class="nx">neighbours</span><span class="p">...]</span> <span class="k">of</span> <span class="nx">description</span>
        <span class="nx">x</span> <span class="o">*=</span> <span class="nx">Settings</span><span class="p">.</span><span class="nx">blockSize</span>
        <span class="nx">y</span> <span class="o">*=</span> <span class="nx">Settings</span><span class="p">.</span><span class="nx">blockSize</span>
        <span class="nx">z</span> <span class="o">*=</span> <span class="nx">Settings</span><span class="p">.</span><span class="nx">blockSize</span>

        <span class="p">[</span><span class="nx">x</span><span class="p">,</span> <span class="nx">y</span><span class="p">,</span> <span class="nx">z</span><span class="p">]</span> <span class="o">=</span> <span class="nx">rotateNodeCoordinates</span> <span class="nx">rotation</span><span class="p">,</span> <span class="nx">x</span><span class="p">,</span> <span class="nx">y</span><span class="p">,</span> <span class="nx">z</span>

        <span class="nx">x</span> <span class="o">+=</span> <span class="nx">Settings</span><span class="p">.</span><span class="nx">blockSize</span> <span class="o">*</span> <span class="nx">bX</span>
        <span class="nx">y</span> <span class="o">+=</span> <span class="nx">Settings</span><span class="p">.</span><span class="nx">blockSize</span> <span class="o">*</span> <span class="nx">bY</span>
        <span class="nx">z</span> <span class="o">+=</span> <span class="nx">Settings</span><span class="p">.</span><span class="nx">blockSize</span> <span class="o">*</span> <span class="nx">bZ</span>

        <span class="nx">currentNodes</span><span class="p">[</span><span class="nx">nodeID</span><span class="p">]</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">PathNode</span> <span class="nx">x</span><span class="p">,</span> <span class="nx">y</span><span class="p">,</span> <span class="nx">z</span></pre></div>             </td>           </tr>                               <tr id="section-3">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-3">&#182;</a>               </div>               <p>Connect path nodes based on description</p>             </td>             <td class="code">               <div class="highlight"><pre>      <span class="k">for</span> <span class="nx">nodeID</span><span class="p">,</span> <span class="p">[</span><span class="nx">x</span><span class="p">,</span> <span class="nx">y</span><span class="p">,</span> <span class="nx">z</span><span class="p">,</span> <span class="nx">neighbours</span><span class="p">...]</span> <span class="k">of</span> <span class="nx">description</span>
        <span class="nv">node = </span><span class="nx">currentNodes</span><span class="p">[</span><span class="nx">nodeID</span><span class="p">]</span>

        <span class="k">for</span> <span class="nx">neighbourID</span> <span class="k">in</span> <span class="nx">neighbours</span>
          <span class="nx">node</span><span class="p">.</span><span class="nx">addNeighbour</span> <span class="nx">currentNodes</span><span class="p">[</span><span class="nx">neighbourID</span><span class="p">]</span>

      <span class="nx">node</span> <span class="k">for</span> <span class="nx">nodeID</span><span class="p">,</span> <span class="nx">node</span> <span class="k">of</span> <span class="nx">currentNodes</span>

    <span class="nv">topNodes = </span><span class="nx">nodesForDescription</span> <span class="nx">Path</span><span class="p">.</span><span class="nx">Descriptors</span><span class="p">.</span><span class="nx">top</span><span class="p">[</span><span class="nx">topType</span><span class="p">],</span> <span class="nx">topRotation</span>
    <span class="nv">midNodes = </span><span class="nx">nodesForDescription</span> <span class="nx">Path</span><span class="p">.</span><span class="nx">Descriptors</span><span class="p">.</span><span class="nx">middle</span><span class="p">[</span><span class="nx">midType</span><span class="p">],</span> <span class="nx">midRotation</span>

    <span class="p">[</span><span class="nx">topNodes</span><span class="p">...,</span> <span class="nx">midNodes</span><span class="p">...]</span>

  <span class="vi">@nodesForMap: </span><span class="nf">(map) -&gt;</span>
    <span class="nv">nodes = </span><span class="p">[]</span>
    <span class="nx">map</span><span class="p">.</span><span class="nx">blocksEach</span> <span class="p">(</span><span class="nx">block</span><span class="p">)</span> <span class="o">=&gt;</span>
      <span class="k">for</span> <span class="nx">node</span> <span class="k">in</span> <span class="nx">Path</span><span class="p">.</span><span class="nx">nodesForBlock</span> <span class="nx">block</span>
        <span class="nx">nodes</span><span class="p">.</span><span class="nx">push</span> <span class="nx">node</span>

    <span class="nx">nodes</span>

  <span class="vi">@forBlock: </span><span class="nf">(block) -&gt;</span>
    <span class="k">new</span> <span class="nx">Path</span> <span class="nx">@nodesForBlock</span><span class="p">(</span><span class="nx">block</span><span class="p">)...</span>

  <span class="vi">@forMap: </span><span class="nf">(map) -&gt;</span>
    <span class="k">new</span> <span class="nx">Path</span> <span class="nx">@nodesForMap</span><span class="p">(</span><span class="nx">map</span><span class="p">)...</span>

  <span class="nv">constructor: </span><span class="nf">(nodes...) -&gt;</span>
    <span class="vi">@nodes     = </span><span class="p">{}</span>

    <span class="k">for</span> <span class="nx">node</span> <span class="k">in</span> <span class="nx">nodes</span>
      <span class="nv">key = </span><span class="nx">node</span><span class="p">.</span><span class="nx">toString</span><span class="p">()</span>
      <span class="k">if</span> <span class="nx">@nodes</span><span class="p">[</span><span class="nx">key</span><span class="p">]</span><span class="o">?</span>
        <span class="nx">@nodes</span><span class="p">[</span><span class="nx">key</span><span class="p">]</span> <span class="o">=</span> <span class="nx">PathNode</span><span class="p">.</span><span class="nx">byJoining</span> <span class="nx">@nodes</span><span class="p">[</span><span class="nx">key</span><span class="p">],</span> <span class="nx">node</span>
      <span class="k">else</span>
        <span class="nx">@nodes</span><span class="p">[</span><span class="nx">key</span><span class="p">]</span> <span class="o">=</span> <span class="nx">node</span>

    <span class="vi">@nodeArray = </span><span class="p">[]</span>
    <span class="nx">@nodeArray</span><span class="p">.</span><span class="nx">push</span> <span class="nx">node</span> <span class="k">for</span> <span class="nx">coordinates</span><span class="p">,</span> <span class="nx">node</span> <span class="k">of</span> <span class="nx">@nodes</span>

  <span class="nv">getNodes: </span><span class="o">-&gt;</span>
    <span class="nx">@nodeArray</span>

  <span class="nv">nodeAt: </span><span class="nf">(x, y, z) -&gt;</span>
    <span class="nx">@nodes</span><span class="p">[</span><span class="s2">&quot;#{x}:#{y}:#{z}&quot;</span><span class="p">]</span> <span class="o">or</span> <span class="kc">null</span>

  <span class="nv">rotate: </span><span class="nf">(clockwise) -&gt;</span>
    <span class="nv">rotatedNodes = </span><span class="p">{}</span>

    <span class="nv">rotateNode: </span><span class="nf">(node) -&gt;</span>
      <span class="p">[</span><span class="nx">x</span><span class="p">,</span> <span class="nx">y</span><span class="p">,</span> <span class="nx">z</span><span class="p">]</span> <span class="o">=</span> <span class="nx">node</span><span class="p">.</span><span class="nx">getCoordinates</span><span class="p">()</span>
      <span class="k">if</span> <span class="nx">clockwise</span>
        <span class="p">[</span><span class="nx">x</span><span class="p">,</span> <span class="nx">y</span><span class="p">]</span> <span class="o">=</span> <span class="p">[</span><span class="nx">Settings</span><span class="p">.</span><span class="nx">mapSize</span> <span class="o">*</span> <span class="nx">Settings</span><span class="p">.</span><span class="nx">blockSize</span> <span class="o">-</span> <span class="nx">y</span><span class="p">,</span> <span class="nx">x</span><span class="p">]</span>
      <span class="k">else</span>
        <span class="p">[</span><span class="nx">x</span><span class="p">,</span> <span class="nx">y</span><span class="p">]</span> <span class="o">=</span> <span class="p">[</span><span class="nx">y</span><span class="p">,</span> <span class="nx">Settings</span><span class="p">.</span><span class="nx">mapSize</span> <span class="o">*</span> <span class="nx">Settings</span><span class="p">.</span><span class="nx">blockSize</span> <span class="o">-</span> <span class="nx">x</span><span class="p">]</span>
      <span class="nx">node</span><span class="p">.</span><span class="nx">setCoordinates</span> <span class="nx">x</span><span class="p">,</span> <span class="nx">y</span><span class="p">,</span> <span class="nx">z</span>

    <span class="k">for</span> <span class="nx">coordinates</span><span class="p">,</span> <span class="nx">node</span> <span class="k">of</span> <span class="nx">@nodes</span>
      <span class="nx">rotateNode</span> <span class="nx">node</span>
      <span class="nx">rotatedNodes</span><span class="p">[</span><span class="nx">node</span><span class="p">.</span><span class="nx">toString</span><span class="p">()]</span> <span class="o">=</span> <span class="nx">node</span>

    <span class="vi">@nodes = </span><span class="nx">rotatedNodes</span>

    <span class="vi">@nodeArray = </span><span class="p">[]</span>
    <span class="nx">@nodeArray</span><span class="p">.</span><span class="nx">push</span> <span class="nx">node</span> <span class="k">for</span> <span class="nx">coordinates</span><span class="p">,</span> <span class="nx">node</span> <span class="k">of</span> <span class="nx">@nodes</span>

  <span class="k">class</span> <span class="nx">PathNode</span>
    <span class="vi">@byJoining: </span><span class="nf">(nodeA, nodeB) -&gt;</span>
      <span class="nx">unless</span> <span class="nx">ARRAY_EQUAL</span> <span class="nx">nodeA</span><span class="p">.</span><span class="nx">getCoordinates</span><span class="p">(),</span> <span class="nx">nodeB</span><span class="p">.</span><span class="nx">getCoordinates</span><span class="p">()</span>
        <span class="k">throw</span> <span class="k">new</span> <span class="nb">Error</span> <span class="s2">&quot;Node must be at same position.&quot;</span>

      <span class="k">if</span> <span class="nx">nodeA</span> <span class="o">is</span> <span class="nx">nodeB</span>
        <span class="k">throw</span> <span class="k">new</span> <span class="nb">Error</span> <span class="s2">&quot;Cannot join node with itself.&quot;</span>

      <span class="k">if</span> <span class="nx">nodeA</span><span class="p">.</span><span class="nx">getNeighbours</span><span class="p">().</span><span class="nx">length</span> <span class="o">is</span> <span class="mi">2</span> <span class="o">or</span>
         <span class="nx">nodeB</span><span class="p">.</span><span class="nx">getNeighbours</span><span class="p">().</span><span class="nx">length</span> <span class="o">is</span> <span class="mi">2</span>
        <span class="k">throw</span> <span class="k">new</span> <span class="nb">Error</span> <span class="s2">&quot;Resulting node would have a degree bigger than 2.&quot;</span>

      <span class="nv">newNode = </span><span class="k">new</span> <span class="nx">PathNode</span> <span class="nx">nodeA</span><span class="p">.</span><span class="nx">getCoordinates</span><span class="p">()...</span>

      <span class="nv">neighbourA = </span><span class="nx">nodeA</span><span class="p">.</span><span class="nx">getNeighbours</span><span class="p">()[</span><span class="mi">0</span><span class="p">]</span>
      <span class="nv">neighbourB = </span><span class="nx">nodeB</span><span class="p">.</span><span class="nx">getNeighbours</span><span class="p">()[</span><span class="mi">0</span><span class="p">]</span>

      <span class="nx">newNode</span><span class="p">.</span><span class="nx">addNeighbour</span> <span class="nx">neighbourA</span>
      <span class="nx">newNode</span><span class="p">.</span><span class="nx">addNeighbour</span> <span class="nx">neighbourB</span>

      <span class="k">if</span> <span class="nx">neighbourA</span><span class="o">?</span><span class="p">.</span><span class="nx">removeNeighbour</span> <span class="nx">nodeA</span>
        <span class="nx">neighbourA</span><span class="p">.</span><span class="nx">addNeighbour</span>    <span class="nx">newNode</span>
      <span class="k">if</span> <span class="nx">neighbourB</span><span class="o">?</span><span class="p">.</span><span class="nx">removeNeighbour</span> <span class="nx">nodeB</span>
        <span class="nx">neighbourB</span><span class="p">.</span><span class="nx">addNeighbour</span>    <span class="nx">newNode</span>

      <span class="nx">newNode</span>

    <span class="nv">constructor: </span><span class="nf">(x, y, z) -&gt;</span>
      <span class="vi">@coordinates = </span><span class="p">[</span><span class="nx">x</span><span class="p">,</span> <span class="nx">y</span><span class="p">,</span> <span class="nx">z</span><span class="p">]</span>

    <span class="nv">setCoordinates: </span><span class="nf">(x, y, z) -&gt;</span>
      <span class="vi">@coordinates = </span><span class="p">[</span><span class="nx">x</span><span class="p">,</span> <span class="nx">y</span><span class="p">,</span> <span class="nx">z</span><span class="p">]</span>

    <span class="nv">getCoordinates: </span><span class="o">-&gt;</span> <span class="nx">@coordinates</span>

    <span class="nv">addNeighbour: </span><span class="nf">(node) -&gt;</span>
      <span class="k">throw</span> <span class="k">new</span> <span class="nb">Error</span> <span class="s2">&quot;Maximum degree for a node is two&quot;</span> <span class="k">if</span> <span class="nx">@neighbour1</span> <span class="o">and</span>
                                                            <span class="nx">@neighbour2</span>

      <span class="nx">unless</span> <span class="nx">@neighbour1</span><span class="o">?</span>
        <span class="vi">@neighbour1 = </span><span class="nx">node</span>
      <span class="k">else</span> <span class="nx">unless</span> <span class="nx">@neighbour2</span><span class="o">?</span>
        <span class="vi">@neighbour2 = </span><span class="nx">node</span>

      <span class="nx">@getNeighbours</span><span class="p">()</span>

    <span class="nv">getNeighbours: </span><span class="o">-&gt;</span>
      <span class="k">if</span> <span class="nx">@neighbour1</span> <span class="o">and</span> <span class="nx">@neighbour2</span>
        <span class="k">return</span> <span class="p">[</span><span class="nx">@neighbour1</span><span class="p">,</span> <span class="nx">@neighbour2</span><span class="p">]</span>
      <span class="k">else</span> <span class="k">if</span> <span class="nx">@neighbour1</span>
        <span class="k">return</span> <span class="p">[</span><span class="nx">@neighbour1</span><span class="p">]</span>
      <span class="k">else</span> <span class="k">if</span> <span class="nx">@neighbour2</span>
        <span class="k">return</span> <span class="p">[</span><span class="nx">@neighbour2</span><span class="p">]</span>
      <span class="k">else</span>
        <span class="k">return</span> <span class="p">[]</span>

    <span class="nv">removeNeighbour: </span><span class="nf">(node) -&gt;</span>
      <span class="k">if</span> <span class="nx">@neighbour1</span> <span class="o">is</span> <span class="nx">node</span>
        <span class="vi">@neighbour1 = </span><span class="kc">null</span>
        <span class="kc">yes</span>
      <span class="k">else</span> <span class="k">if</span> <span class="nx">@neighbour2</span> <span class="o">is</span> <span class="nx">node</span>
        <span class="vi">@neighbour2 = </span><span class="kc">null</span>
        <span class="kc">yes</span>
      <span class="k">else</span>
        <span class="kc">no</span>

    <span class="nv">toString: </span><span class="o">-&gt;</span>
      <span class="p">[</span><span class="nx">x</span><span class="p">,</span> <span class="nx">y</span><span class="p">,</span> <span class="nx">z</span><span class="p">]</span> <span class="o">=</span> <span class="nx">@coordinates</span>
      <span class="s2">&quot;#{x}:#{y}:#{z}&quot;</span></pre></div>             </td>           </tr>                               <tr id="section-4">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-4">&#182;</a>               </div>               <p>Describes the paths for a given blocksegment.</p>             </td>             <td class="code">               <div class="highlight"><pre>  <span class="vi">@Descriptors =</span>
    <span class="nv">top:</span>
      <span class="s1">&#39;straight&#39;</span><span class="o">:</span>
        <span class="s1">&#39;a&#39;</span><span class="o">:</span> <span class="p">[</span>  <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="o">/</span><span class="mi">2</span><span class="p">,</span>   <span class="mi">1</span><span class="p">,</span> <span class="s1">&#39;b&#39;</span><span class="p">]</span>
        <span class="s1">&#39;b&#39;</span><span class="o">:</span> <span class="p">[</span>  <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="o">/</span><span class="mi">2</span><span class="p">,</span>   <span class="mi">1</span><span class="p">,</span> <span class="s1">&#39;a&#39;</span><span class="p">]</span>
      <span class="s1">&#39;crossing&#39;</span><span class="o">:</span>
        <span class="s1">&#39;a&#39;</span><span class="o">:</span> <span class="p">[</span>  <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="o">/</span><span class="mi">2</span><span class="p">,</span>   <span class="mi">1</span><span class="p">,</span> <span class="s1">&#39;b&#39;</span><span class="p">]</span>
        <span class="s1">&#39;b&#39;</span><span class="o">:</span> <span class="p">[</span>  <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="o">/</span><span class="mi">2</span><span class="p">,</span>   <span class="mi">1</span><span class="p">,</span> <span class="s1">&#39;a&#39;</span><span class="p">]</span>
        <span class="s1">&#39;c&#39;</span><span class="o">:</span> <span class="p">[</span><span class="mi">1</span><span class="o">/</span><span class="mi">2</span><span class="p">,</span>   <span class="mi">0</span><span class="p">,</span>   <span class="mi">1</span><span class="p">,</span> <span class="s1">&#39;d&#39;</span><span class="p">]</span>
        <span class="s1">&#39;d&#39;</span><span class="o">:</span> <span class="p">[</span><span class="mi">1</span><span class="o">/</span><span class="mi">2</span><span class="p">,</span>   <span class="mi">1</span><span class="p">,</span>   <span class="mi">1</span><span class="p">,</span> <span class="s1">&#39;c&#39;</span><span class="p">]</span>
      <span class="s1">&#39;curve&#39;</span><span class="o">:</span>
        <span class="s1">&#39;a&#39;</span><span class="o">:</span> <span class="p">[</span>  <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="o">/</span><span class="mi">2</span><span class="p">,</span>   <span class="mi">1</span><span class="p">,</span> <span class="s1">&#39;b&#39;</span><span class="p">]</span>
        <span class="s1">&#39;b&#39;</span><span class="o">:</span> <span class="p">[</span><span class="mi">1</span><span class="o">/</span><span class="mi">8</span><span class="p">,</span> <span class="mi">4</span><span class="o">/</span><span class="mi">8</span><span class="p">,</span>   <span class="mi">1</span><span class="p">,</span> <span class="s1">&#39;a&#39;</span><span class="p">,</span> <span class="s1">&#39;c&#39;</span><span class="p">]</span>
        <span class="s1">&#39;c&#39;</span><span class="o">:</span> <span class="p">[</span><span class="mi">3</span><span class="o">/</span><span class="mi">8</span><span class="p">,</span> <span class="mi">5</span><span class="o">/</span><span class="mi">8</span><span class="p">,</span>   <span class="mi">1</span><span class="p">,</span> <span class="s1">&#39;b&#39;</span><span class="p">,</span> <span class="s1">&#39;d&#39;</span><span class="p">]</span>
        <span class="s1">&#39;d&#39;</span><span class="o">:</span> <span class="p">[</span><span class="mi">4</span><span class="o">/</span><span class="mi">8</span><span class="p">,</span> <span class="mi">7</span><span class="o">/</span><span class="mi">8</span><span class="p">,</span>   <span class="mi">1</span><span class="p">,</span> <span class="s1">&#39;c&#39;</span><span class="p">,</span> <span class="s1">&#39;e&#39;</span><span class="p">]</span>
        <span class="s1">&#39;e&#39;</span><span class="o">:</span> <span class="p">[</span><span class="mi">1</span><span class="o">/</span><span class="mi">2</span><span class="p">,</span>   <span class="mi">1</span><span class="p">,</span>   <span class="mi">1</span><span class="p">,</span> <span class="s1">&#39;d&#39;</span><span class="p">]</span>
    <span class="nv">middle:</span>
      <span class="s1">&#39;straight&#39;</span><span class="o">:</span>
        <span class="s1">&#39;a&#39;</span><span class="o">:</span> <span class="p">[</span>  <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="o">/</span><span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="o">/</span><span class="mi">2</span><span class="p">,</span> <span class="s1">&#39;b&#39;</span><span class="p">]</span>
        <span class="s1">&#39;b&#39;</span><span class="o">:</span> <span class="p">[</span>  <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="o">/</span><span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="o">/</span><span class="mi">2</span><span class="p">,</span> <span class="s1">&#39;a&#39;</span><span class="p">]</span>
      <span class="s1">&#39;crossing&#39;</span><span class="o">:</span>
        <span class="s1">&#39;a&#39;</span><span class="o">:</span> <span class="p">[</span>  <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="o">/</span><span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="o">/</span><span class="mi">2</span><span class="p">,</span> <span class="s1">&#39;b&#39;</span><span class="p">]</span>
        <span class="s1">&#39;b&#39;</span><span class="o">:</span> <span class="p">[</span>  <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="o">/</span><span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="o">/</span><span class="mi">2</span><span class="p">,</span> <span class="s1">&#39;a&#39;</span><span class="p">]</span>
        <span class="s1">&#39;c&#39;</span><span class="o">:</span> <span class="p">[</span><span class="mi">1</span><span class="o">/</span><span class="mi">2</span><span class="p">,</span>   <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="o">/</span><span class="mi">2</span><span class="p">,</span> <span class="s1">&#39;d&#39;</span><span class="p">]</span>
        <span class="s1">&#39;d&#39;</span><span class="o">:</span> <span class="p">[</span><span class="mi">1</span><span class="o">/</span><span class="mi">2</span><span class="p">,</span>   <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="o">/</span><span class="mi">2</span><span class="p">,</span> <span class="s1">&#39;c&#39;</span><span class="p">]</span>
      <span class="s1">&#39;curve&#39;</span><span class="o">:</span>
        <span class="s1">&#39;a&#39;</span><span class="o">:</span> <span class="p">[</span>  <span class="mi">0</span><span class="p">,</span> <span class="mi">4</span><span class="o">/</span><span class="mi">8</span><span class="p">,</span> <span class="mi">1</span><span class="o">/</span><span class="mi">2</span><span class="p">,</span> <span class="s1">&#39;b&#39;</span><span class="p">]</span>
        <span class="s1">&#39;b&#39;</span><span class="o">:</span> <span class="p">[</span><span class="mi">1</span><span class="o">/</span><span class="mi">8</span><span class="p">,</span> <span class="mi">4</span><span class="o">/</span><span class="mi">8</span><span class="p">,</span> <span class="mi">1</span><span class="o">/</span><span class="mi">2</span><span class="p">,</span> <span class="s1">&#39;a&#39;</span><span class="p">,</span> <span class="s1">&#39;c&#39;</span><span class="p">]</span>
        <span class="s1">&#39;c&#39;</span><span class="o">:</span> <span class="p">[</span><span class="mi">3</span><span class="o">/</span><span class="mi">8</span><span class="p">,</span> <span class="mi">5</span><span class="o">/</span><span class="mi">8</span><span class="p">,</span> <span class="mi">1</span><span class="o">/</span><span class="mi">2</span><span class="p">,</span> <span class="s1">&#39;b&#39;</span><span class="p">,</span> <span class="s1">&#39;d&#39;</span><span class="p">]</span>
        <span class="s1">&#39;d&#39;</span><span class="o">:</span> <span class="p">[</span><span class="mi">4</span><span class="o">/</span><span class="mi">8</span><span class="p">,</span> <span class="mi">7</span><span class="o">/</span><span class="mi">8</span><span class="p">,</span> <span class="mi">1</span><span class="o">/</span><span class="mi">2</span><span class="p">,</span> <span class="s1">&#39;c&#39;</span><span class="p">,</span> <span class="s1">&#39;e&#39;</span><span class="p">]</span>
        <span class="s1">&#39;e&#39;</span><span class="o">:</span> <span class="p">[</span><span class="mi">4</span><span class="o">/</span><span class="mi">8</span><span class="p">,</span>   <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="o">/</span><span class="mi">2</span><span class="p">,</span> <span class="s1">&#39;d&#39;</span><span class="p">]</span>
      <span class="s1">&#39;dive&#39;</span><span class="o">:</span>
        <span class="s1">&#39;a&#39;</span><span class="o">:</span> <span class="p">[</span>  <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="o">/</span><span class="mi">2</span><span class="p">,</span> <span class="mi">4</span><span class="o">/</span><span class="mi">8</span><span class="p">,</span> <span class="s1">&#39;b&#39;</span><span class="p">]</span>
        <span class="s1">&#39;b&#39;</span><span class="o">:</span> <span class="p">[</span>  <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="o">/</span><span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="o">/</span><span class="mi">8</span><span class="p">,</span> <span class="s1">&#39;a&#39;</span><span class="p">]</span>
      <span class="s1">&#39;exchange&#39;</span><span class="o">:</span>
        <span class="s1">&#39;a&#39;</span><span class="o">:</span> <span class="p">[</span>  <span class="mi">0</span><span class="p">,</span> <span class="mi">4</span><span class="o">/</span><span class="mi">8</span><span class="p">,</span> <span class="mi">4</span><span class="o">/</span><span class="mi">8</span><span class="p">,</span> <span class="s1">&#39;b&#39;</span><span class="p">]</span>
        <span class="s1">&#39;b&#39;</span><span class="o">:</span> <span class="p">[</span><span class="mi">1</span><span class="o">/</span><span class="mi">8</span><span class="p">,</span> <span class="mi">4</span><span class="o">/</span><span class="mi">8</span><span class="p">,</span> <span class="mi">4</span><span class="o">/</span><span class="mi">8</span><span class="p">,</span> <span class="s1">&#39;a&#39;</span><span class="p">,</span> <span class="s1">&#39;c&#39;</span><span class="p">]</span>
        <span class="s1">&#39;c&#39;</span><span class="o">:</span> <span class="p">[</span><span class="mi">3</span><span class="o">/</span><span class="mi">8</span><span class="p">,</span> <span class="mi">5</span><span class="o">/</span><span class="mi">8</span><span class="p">,</span> <span class="mi">2</span><span class="o">/</span><span class="mi">8</span><span class="p">,</span> <span class="s1">&#39;b&#39;</span><span class="p">,</span> <span class="s1">&#39;d&#39;</span><span class="p">]</span>
        <span class="s1">&#39;d&#39;</span><span class="o">:</span> <span class="p">[</span><span class="mi">4</span><span class="o">/</span><span class="mi">8</span><span class="p">,</span> <span class="mi">7</span><span class="o">/</span><span class="mi">8</span><span class="p">,</span> <span class="mi">1</span><span class="o">/</span><span class="mi">8</span><span class="p">,</span> <span class="s1">&#39;c&#39;</span><span class="p">,</span> <span class="s1">&#39;e&#39;</span><span class="p">]</span>
        <span class="s1">&#39;e&#39;</span><span class="o">:</span> <span class="p">[</span><span class="mi">4</span><span class="o">/</span><span class="mi">8</span><span class="p">,</span>   <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="o">/</span><span class="mi">8</span><span class="p">,</span> <span class="s1">&#39;d&#39;</span><span class="p">]</span>
      <span class="s1">&#39;exchange-alt&#39;</span><span class="o">:</span>
        <span class="s1">&#39;a&#39;</span><span class="o">:</span> <span class="p">[</span>  <span class="mi">0</span><span class="p">,</span> <span class="mi">4</span><span class="o">/</span><span class="mi">8</span><span class="p">,</span> <span class="mi">1</span><span class="o">/</span><span class="mi">8</span><span class="p">,</span> <span class="s1">&#39;b&#39;</span><span class="p">]</span>
        <span class="s1">&#39;b&#39;</span><span class="o">:</span> <span class="p">[</span><span class="mi">1</span><span class="o">/</span><span class="mi">8</span><span class="p">,</span> <span class="mi">4</span><span class="o">/</span><span class="mi">8</span><span class="p">,</span> <span class="mi">1</span><span class="o">/</span><span class="mi">8</span><span class="p">,</span> <span class="s1">&#39;a&#39;</span><span class="p">,</span> <span class="s1">&#39;c&#39;</span><span class="p">]</span>
        <span class="s1">&#39;c&#39;</span><span class="o">:</span> <span class="p">[</span><span class="mi">3</span><span class="o">/</span><span class="mi">8</span><span class="p">,</span> <span class="mi">5</span><span class="o">/</span><span class="mi">8</span><span class="p">,</span> <span class="mi">2</span><span class="o">/</span><span class="mi">8</span><span class="p">,</span> <span class="s1">&#39;b&#39;</span><span class="p">,</span> <span class="s1">&#39;d&#39;</span><span class="p">]</span>
        <span class="s1">&#39;d&#39;</span><span class="o">:</span> <span class="p">[</span><span class="mi">4</span><span class="o">/</span><span class="mi">8</span><span class="p">,</span> <span class="mi">7</span><span class="o">/</span><span class="mi">8</span><span class="p">,</span> <span class="mi">4</span><span class="o">/</span><span class="mi">8</span><span class="p">,</span> <span class="s1">&#39;c&#39;</span><span class="p">,</span> <span class="s1">&#39;e&#39;</span><span class="p">]</span>
        <span class="s1">&#39;e&#39;</span><span class="o">:</span> <span class="p">[</span><span class="mi">4</span><span class="o">/</span><span class="mi">8</span><span class="p">,</span>   <span class="mi">1</span><span class="p">,</span> <span class="mi">4</span><span class="o">/</span><span class="mi">8</span><span class="p">,</span> <span class="s1">&#39;d&#39;</span><span class="p">]</span>
      <span class="s1">&#39;drop-middle&#39;</span><span class="o">:</span>
        <span class="s1">&#39;a&#39;</span><span class="o">:</span> <span class="p">[</span>  <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="o">/</span><span class="mi">2</span><span class="p">,</span>   <span class="mi">1</span><span class="p">,</span> <span class="s1">&#39;m&#39;</span><span class="p">]</span>
        <span class="s1">&#39;b&#39;</span><span class="o">:</span> <span class="p">[</span>  <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="o">/</span><span class="mi">2</span><span class="p">,</span>   <span class="mi">1</span><span class="p">,</span> <span class="s1">&#39;m&#39;</span><span class="p">]</span>
        <span class="s1">&#39;c&#39;</span><span class="o">:</span> <span class="p">[</span><span class="mi">1</span><span class="o">/</span><span class="mi">2</span><span class="p">,</span>   <span class="mi">0</span><span class="p">,</span>   <span class="mi">1</span><span class="p">,</span> <span class="s1">&#39;m&#39;</span><span class="p">]</span>
        <span class="s1">&#39;d&#39;</span><span class="o">:</span> <span class="p">[</span><span class="mi">1</span><span class="o">/</span><span class="mi">2</span><span class="p">,</span>   <span class="mi">1</span><span class="p">,</span>   <span class="mi">1</span><span class="p">,</span> <span class="s1">&#39;m&#39;</span><span class="p">]</span>
        <span class="s1">&#39;m&#39;</span><span class="o">:</span> <span class="p">[</span><span class="mi">1</span><span class="o">/</span><span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="o">/</span><span class="mi">2</span><span class="p">,</span>   <span class="mi">1</span><span class="p">,</span> <span class="s1">&#39;e&#39;</span><span class="p">]</span>
        <span class="s1">&#39;e&#39;</span><span class="o">:</span> <span class="p">[</span><span class="mi">1</span><span class="o">/</span><span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="o">/</span><span class="mi">2</span><span class="p">,</span> <span class="mi">6</span><span class="o">/</span><span class="mi">8</span><span class="p">,</span> <span class="s1">&#39;m&#39;</span><span class="p">,</span> <span class="s1">&#39;f&#39;</span><span class="p">]</span>
        <span class="s1">&#39;f&#39;</span><span class="o">:</span> <span class="p">[</span><span class="mi">3</span><span class="o">/</span><span class="mi">8</span><span class="p">,</span> <span class="mi">1</span><span class="o">/</span><span class="mi">2</span><span class="p">,</span> <span class="mi">5</span><span class="o">/</span><span class="mi">8</span><span class="p">,</span> <span class="s1">&#39;e&#39;</span><span class="p">,</span> <span class="s1">&#39;g&#39;</span><span class="p">]</span>
        <span class="s1">&#39;g&#39;</span><span class="o">:</span> <span class="p">[</span><span class="mi">1</span><span class="o">/</span><span class="mi">8</span><span class="p">,</span> <span class="mi">1</span><span class="o">/</span><span class="mi">2</span><span class="p">,</span> <span class="mi">4</span><span class="o">/</span><span class="mi">8</span><span class="p">,</span> <span class="s1">&#39;f&#39;</span><span class="p">,</span> <span class="s1">&#39;h&#39;</span><span class="p">]</span>
        <span class="s1">&#39;h&#39;</span><span class="o">:</span> <span class="p">[</span>  <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="o">/</span><span class="mi">2</span><span class="p">,</span> <span class="mi">4</span><span class="o">/</span><span class="mi">8</span><span class="p">,</span> <span class="s1">&#39;g&#39;</span><span class="p">]</span>
      <span class="s1">&#39;drop-low&#39;</span><span class="o">:</span>
        <span class="s1">&#39;a&#39;</span><span class="o">:</span> <span class="p">[</span>  <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="o">/</span><span class="mi">2</span><span class="p">,</span>   <span class="mi">1</span><span class="p">,</span> <span class="s1">&#39;m&#39;</span><span class="p">]</span>
        <span class="s1">&#39;b&#39;</span><span class="o">:</span> <span class="p">[</span>  <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="o">/</span><span class="mi">2</span><span class="p">,</span>   <span class="mi">1</span><span class="p">,</span> <span class="s1">&#39;m&#39;</span><span class="p">]</span>
        <span class="s1">&#39;c&#39;</span><span class="o">:</span> <span class="p">[</span><span class="mi">1</span><span class="o">/</span><span class="mi">2</span><span class="p">,</span>   <span class="mi">0</span><span class="p">,</span>   <span class="mi">1</span><span class="p">,</span> <span class="s1">&#39;m&#39;</span><span class="p">]</span>
        <span class="s1">&#39;d&#39;</span><span class="o">:</span> <span class="p">[</span><span class="mi">1</span><span class="o">/</span><span class="mi">2</span><span class="p">,</span>   <span class="mi">1</span><span class="p">,</span>   <span class="mi">1</span><span class="p">,</span> <span class="s1">&#39;m&#39;</span><span class="p">]</span>
        <span class="s1">&#39;m&#39;</span><span class="o">:</span> <span class="p">[</span><span class="mi">1</span><span class="o">/</span><span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="o">/</span><span class="mi">2</span><span class="p">,</span>   <span class="mi">1</span><span class="p">,</span> <span class="s1">&#39;e&#39;</span><span class="p">]</span>
        <span class="s1">&#39;e&#39;</span><span class="o">:</span> <span class="p">[</span><span class="mi">1</span><span class="o">/</span><span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="o">/</span><span class="mi">2</span><span class="p">,</span> <span class="mi">4</span><span class="o">/</span><span class="mi">8</span><span class="p">,</span> <span class="s1">&#39;m&#39;</span><span class="p">,</span> <span class="s1">&#39;f&#39;</span><span class="p">]</span>
        <span class="s1">&#39;f&#39;</span><span class="o">:</span> <span class="p">[</span><span class="mi">3</span><span class="o">/</span><span class="mi">8</span><span class="p">,</span> <span class="mi">1</span><span class="o">/</span><span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="o">/</span><span class="mi">8</span><span class="p">,</span> <span class="s1">&#39;e&#39;</span><span class="p">,</span> <span class="s1">&#39;g&#39;</span><span class="p">]</span>
        <span class="s1">&#39;g&#39;</span><span class="o">:</span> <span class="p">[</span><span class="mi">1</span><span class="o">/</span><span class="mi">8</span><span class="p">,</span> <span class="mi">1</span><span class="o">/</span><span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="o">/</span><span class="mi">8</span><span class="p">,</span> <span class="s1">&#39;f&#39;</span><span class="p">,</span> <span class="s1">&#39;h&#39;</span><span class="p">]</span>
        <span class="s1">&#39;h&#39;</span><span class="o">:</span> <span class="p">[</span>  <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="o">/</span><span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="o">/</span><span class="mi">8</span><span class="p">,</span> <span class="s1">&#39;g&#39;</span><span class="p">]</span>

</pre></div>             </td>           </tr>                </tbody>     </table>   </div> </body> </html> 